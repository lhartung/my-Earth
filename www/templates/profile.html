<ion-nav-bar class="bar-positive nav-title-slide-ios7 headerBG">
</ion-nav-bar>
<ion-view title="My Profile" hide-back-button="true" id="contentBG">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="has-header content-bg">

    <!-- Overall Consumption -->
    <div>
      <ion-slide-box show-pager="false" auto-play="true" does-continue="true" slide-interval="4000">
      <ion-slide>
      <div class ="profile-icon">
        <i class="iconx ion-leaf profile-icon-leaf"></i>
      </div>
      <div>
        <span class="profile-section">Overall Carbon Savings</span>
        <span style="float:right; margin-right: 8px" class="right">4 Trees Saved</span>
      </div>
    </ion-slide>
    <ion-slide>
    <div class ="profile-icon">
      <i class="icon ion-waterdrop profile-icon-water"></i>
    </div>
    <div>
      <span class="profile-section">Overall Water Savings</span>
      <span style="float:right; margin-right: 8px" class="right">3 Gallons Saved</span>
    </div>
    </ion-slide>
    </ion-slide-box>
    <hr class="horiz-break"/>
    </div>



      </ion-content>
    </ion-view>

        
<!-- Graphs -->
<!--div>

  <div id="chartDiv">
    <canvas id="myChart" height="240"></canvas>
  </div>
  <div class="list list-inset" style="margin-top: 4px">

    <a class="item item-icon-left graphSelector" onclick="allTime()">
      <i class="icon ion-clock"></i>
      <span class="graphSelectorTitle middle">All Time</span>
      <span style="float:right" class="right middle">Apr 2013 - July 2014</span>
    </a>
    <a class="item item-icon-left graphSelector" onclick="thisWeek()">
      <i class="icon ion-pinpoint"></i>
      <span class="graphSelectorTitle middle">This Week</span>
      <span style="float:right" class="right middle">Nov 17 - 23, 2014</span>
    </a>
    <a class="item item-icon-left graphSelector" onclick="bestWeek()">
      <i class="icon ion-happy"></i>
      <span class="graphSelectorTitle middle">Best Week</span>
      <span style="float:right" class="right middle">Nov 5 - 11, 2014</span>
    </a>
    <a class="item item-icon-left graphSelector" onclick="worstWeek()">
      <i class="icon ion-sad"></i>
      <span class="graphSelectorTitle middle">Worst Week</span>
      <span style="float:right" class="right middle">Sept 7 - 13, 2014</span>
    </a>
  </div>

  <hr class="horiz-break"/>
</div>



<!-- Statistics -->

<!--div class="list list-inset" style="margin-bottom: 16px">

  <div class="item statistic">
    <span class="statTitle statMiddle">CO<sub>2</sub> Conserved</span>
    <span style="float:right" class="right statMiddle stat">10.1 kilograms</span>
  </div>
  <div class="item statistic">
    <span class="statTitle statMiddle">CO<sub>2</sub> Percentile</span>
    <span style="float:right" class="right statMiddle stat">78%</span>
  </div>
  <div class="item statistic">
    <span class="statTitle statMiddle">Rank for Current Usage</span>
    <span style="float:right" class="right statMiddle stat">Good</span>
  </div>
  <div class="item statistic">
    <span class="statTitle statMiddle">Activities Completed</span>
    <span style="float:right" class="right statMiddle stat">435</span>
  </div>
</div>

</ion-content>
</ion-view>


<!-- END PROFILE PAGE -->


<!--script src="js/Chart.js/Chart.js"></script>

<script>


//bullshit data to initialize chart

var data = {
  labels: ["air", "water", "wind", "fire"],
  datasets: [
  {
    label: "Carbon Usage",
    fillColor: "rgba(130,255,180,0.2)",
    strokeColor: "rgba(130,255,180,1)",
    pointColor: "rgba(130,255,180,1)",
    pointStrokeColor: "#fff",
    pointHighlightFill: "#fff",
    pointHighlightStroke: "rgba(130,255,180,1)",
    data: [32, 46, 37, 85]
  },
  {
    label: "Water Usage",
    fillColor: "rgba(151,187,255,0.2)",
    strokeColor: "rgba(151,187,255,1)",
    pointColor: "rgba(151,187,255,1)",
    pointStrokeColor: "#fff",
    pointHighlightFill: "#fff",
    pointHighlightStroke: "rgba(151,187,255,1)",
    data: [46, 86, 85, 36]
  }
  ]
};

var options = {

    bezierCurve : false

  };

  var ctx = document.getElementById("myChart").getContext("2d");
  var myLineChart = new Chart(ctx).Line(data, options);

  var bestWeek = function() {

    //TODO: get best week from database

    console.log('bestWeek');

    var h2o = {mon: 32, tue: 56, wed: 63, thur: 80, fri: 24, sat: 33, sund: 42};
    var co2 = {mon: 43, tue: 63, wed: 34, thur: 72, fri: 76, sat: 47, sund: 50};

    myLineChart.addData([co2.mon, h2o.mon], "Monday"); 
    myLineChart.addData([co2.tue, h2o.tue], "Tuesday");
    myLineChart.addData([co2.wed, h2o.wed], "Wednesday");
    myLineChart.addData([co2.thur, h2o.thur], "Thursday");
    myLineChart.addData([co2.fri, h2o.fri], "Friday");
    myLineChart.addData([co2.sat, h2o.sat], "Saturday");
    myLineChart.addData([co2.sund, h2o.sund], "Sunday");

    removeOldData(7);

    myLineChart.update();

  }

  var worstWeek = function() {

  //TODO: get worst week from database

  var h2o = {mon: 23, tue: 43, wed: 34, thur: 52, fri: 16, sat: 37, sund: 24};
  var co2 = {mon: 23, tue: 35, wed: 49, thur: 84, fri: 25, sat: 32, sund: 38};

  myLineChart.addData([co2.mon, h2o.mon], "Monday"); 
  myLineChart.addData([co2.tue, h2o.tue], "Tuesday");
  myLineChart.addData([co2.wed, h2o.wed], "Wednesday");
  myLineChart.addData([co2.thur, h2o.thur], "Thursday");
  myLineChart.addData([co2.fri, h2o.fri], "Friday");
  myLineChart.addData([co2.sat, h2o.sat], "Saturday");
  myLineChart.addData([co2.sund, h2o.sund], "Sunday");

  removeOldData(7);

  myLineChart.update();

}

var allTime = function() {

  //TODO: get all time data from database

  var h2o = [322, 525, 646, 753];
  var co2 = [453, 444, 364, 243];

  var startMonth = 8;
  var numNewDataPoints = h2o.length;
  var thisMonth = startMonth;
  var monthTitle = "";

  for (var i = 0; i < h2o.length; i++) {

    monthTitle = getMonthTitle(thisMonth);

    myLineChart.addData([co2[i], h2o[i]], monthTitle);

    if (thisMonth != 12) {
      thisMonth++;
    } else {
      thisMonth = 1;
    }

  }

  removeOldData(numNewDataPoints);

  myLineChart.update();

}

var thisWeek = function() {

  //TODO: get current week from database

  var h2o = {mon: 30, tue: 50, wed: 32, thur: 47, fri: null, sat: null, sund: null};
  var co2 = {mon: 23, tue: 43, wed: 34, thur: 58, fri: null, sat: null, sund: null};

  var numNewDataPoints = 0;

  if (co2.mon != null) {
    myLineChart.addData([co2.mon, h2o.mon], "Monday"); 
    numNewDataPoints++;
  }
  if (co2.tue != null) {
    myLineChart.addData([co2.tue, h2o.tue], "Tuesday");
    numNewDataPoints++;
  }
  if (co2.wed != null) {
    myLineChart.addData([co2.wed, h2o.wed], "Wednesday");
    numNewDataPoints++;
  }
  if (co2.thur != null) {
    myLineChart.addData([co2.thur, h2o.thur], "Thursday");
    numNewDataPoints++;
  }
  if (co2.fri != null) {
    myLineChart.addData([co2.fri, h2o.fri], "Friday");
    numNewDataPoints++;
  }
  if (co2.sat != null) {
    myLineChart.addData([co2.sat, h2o.sat], "Saturday");
    numNewDataPoints++;
  }
  if (co2.sund != null) {
    myLineChart.addData([co2.sund, h2o.sund], "Sunday");
    numNewDataPoints++;
  }

  removeOldData(numNewDataPoints);

  myLineChart.update();

}

var removeOldData = function(numNewDataPoints) {

  var numPoints = myLineChart.datasets[0].points.length;

  for (var i = 0; i < numPoints - numNewDataPoints; i++) {

    myLineChart.removeData();

  }

}

var getMonthTitle = function(thisMonth) {

  switch(thisMonth) {
    case 1: return "January";
    case 2: return "February";
    case 3: return "March";
    case 4: return "April";
    case 5: return "May";
    case 6: return "June";
    case 7: return "July";
    case 8: return "August";
    case 9: return "September";
    case 10: return "October";
    case 11: return "November";
    case 12: return "December";
  }

}

allTime();


</script-->